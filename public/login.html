<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Admin Login</title>
<link rel="stylesheet" href="./css/admin.css">
</head>
<body class="dark">
  <div class="login-wrap">
    <div class="card">
      <h2>Admin Login</h2>
      <form id="login">
        <input name="email" placeholder="email" required />
        <input name="password" placeholder="password" type="password" required />
        <div class="row">
          <button type="submit" class="primary">Login</button>
        </div>
        <div id="err" class="err"></div>
      </form>
    </div>
    <footer class="foot">Artist Admin</footer>
  </div>
<script>
document.getElementById('login').onsubmit = async (e) => {
  e.preventDefault();
  document.getElementById('err').textContent = '';
  const fd = new FormData(e.target);
  const res = await fetch('/api/auth/login', { method:'POST', body: fd });
  if (res.ok) location.href = './admin.html';
  else document.getElementById('err').textContent = 'Login failed';
}
</script>
</body>
</html>
